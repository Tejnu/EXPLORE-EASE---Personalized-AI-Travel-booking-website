"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/booking/train/route";
exports.ids = ["app/api/booking/train/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbooking%2Ftrain%2Froute&page=%2Fapi%2Fbooking%2Ftrain%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbooking%2Ftrain%2Froute.ts&appDir=D%3A%5CProjects%5CDTI%20Project%5CExploreEase%5Cfrontend%5Cexploreease%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CDTI%20Project%5CExploreEase%5Cfrontend%5Cexploreease&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=export&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbooking%2Ftrain%2Froute&page=%2Fapi%2Fbooking%2Ftrain%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbooking%2Ftrain%2Froute.ts&appDir=D%3A%5CProjects%5CDTI%20Project%5CExploreEase%5Cfrontend%5Cexploreease%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CDTI%20Project%5CExploreEase%5Cfrontend%5Cexploreease&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=export&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Projects_DTI_Project_ExploreEase_frontend_exploreease_src_app_api_booking_train_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/booking/train/route.ts */ \"(rsc)/./src/app/api/booking/train/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"export\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/booking/train/route\",\n        pathname: \"/api/booking/train\",\n        filename: \"route\",\n        bundlePath: \"app/api/booking/train/route\"\n    },\n    resolvedPagePath: \"D:\\\\Projects\\\\DTI Project\\\\ExploreEase\\\\frontend\\\\exploreease\\\\src\\\\app\\\\api\\\\booking\\\\train\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Projects_DTI_Project_ExploreEase_frontend_exploreease_src_app_api_booking_train_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/booking/train/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZib29raW5nJTJGdHJhaW4lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmJvb2tpbmclMkZ0cmFpbiUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmJvb2tpbmclMkZ0cmFpbiUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDUHJvamVjdHMlNUNEVEklMjBQcm9qZWN0JTVDRXhwbG9yZUVhc2UlNUNmcm9udGVuZCU1Q2V4cGxvcmVlYXNlJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDUHJvamVjdHMlNUNEVEklMjBQcm9qZWN0JTVDRXhwbG9yZUVhc2UlNUNmcm9udGVuZCU1Q2V4cGxvcmVlYXNlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PWV4cG9ydCZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNzRDtBQUNuSTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2V4cGxvcmVlYXNlLz9lYTEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkQ6XFxcXFByb2plY3RzXFxcXERUSSBQcm9qZWN0XFxcXEV4cGxvcmVFYXNlXFxcXGZyb250ZW5kXFxcXGV4cGxvcmVlYXNlXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGJvb2tpbmdcXFxcdHJhaW5cXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiZXhwb3J0XCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2Jvb2tpbmcvdHJhaW4vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9ib29raW5nL3RyYWluXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9ib29raW5nL3RyYWluL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcUHJvamVjdHNcXFxcRFRJIFByb2plY3RcXFxcRXhwbG9yZUVhc2VcXFxcZnJvbnRlbmRcXFxcZXhwbG9yZWVhc2VcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcYm9va2luZ1xcXFx0cmFpblxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYm9va2luZy90cmFpbi9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbooking%2Ftrain%2Froute&page=%2Fapi%2Fbooking%2Ftrain%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbooking%2Ftrain%2Froute.ts&appDir=D%3A%5CProjects%5CDTI%20Project%5CExploreEase%5Cfrontend%5Cexploreease%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CDTI%20Project%5CExploreEase%5Cfrontend%5Cexploreease&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=export&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/booking/train/route.ts":
/*!********************************************!*\
  !*** ./src/app/api/booking/train/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var csv_parse_sync__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! csv-parse/sync */ \"(rsc)/./node_modules/csv-parse/lib/sync.js\");\n\n\n\n// Map weekday to run column\nconst DAY_COLS = {\n    Sun: \"trainRunsOnSun\",\n    Mon: \"trainRunsOnMon\",\n    Tue: \"trainRunsOnTue\",\n    Wed: \"trainRunsOnWed\",\n    Thu: \"trainRunsOnThu\",\n    Fri: \"trainRunsOnFri\",\n    Sat: \"trainRunsOnSat\"\n};\n// What classes do we support\nconst CLASS_KEYS = [\n    \"1A\",\n    \"2A\",\n    \"3A\",\n    \"SL\",\n    \"CC\",\n    \"EC\"\n];\n// Parse Python/JSON single quote array to JS array of stops\nfunction tryParseStationList(str) {\n    try {\n        return JSON.parse(str.replace(/'/g, '\"'));\n    } catch  {\n        return [];\n    }\n}\n// Get cumulative fare difference for a segment and class\nfunction getSegmentFare(fareRows, trainNo, from, to, classKey) {\n    const segRows = fareRows.filter((f)=>f.Train_No == trainNo);\n    const fromRow = segRows.find((f)=>f.Station_Code === from);\n    const toRow = segRows.find((f)=>f.Station_Code === to);\n    if (!fromRow || !toRow) return null;\n    const diff = Number(toRow[classKey]) - Number(fromRow[classKey]);\n    // If boarding at origin, just take the toRow fare\n    return diff >= 0 ? diff : Number(toRow[classKey]);\n}\n// Build business logic/mocked availability\nfunction buildAvailability(classes, seats = 32) {\n    const out = {};\n    for (const c of classes){\n        if (c === \"1A\" || c === \"EC\") out[c] = {\n            status: \"AVBL\",\n            number: seats,\n            prediction: \"high\"\n        };\n        else if (c === \"2A\" || c === \"CC\") out[c] = {\n            status: \"RAC\",\n            number: Math.floor(seats / 4),\n            prediction: \"medium\"\n        };\n        else if (c === \"3A\") out[c] = {\n            status: \"WL\",\n            number: Math.floor(seats / 2),\n            prediction: \"low\"\n        };\n        else out[c] = {\n            status: \"AVBL\",\n            number: Math.floor(Math.random() * seats),\n            prediction: \"medium\"\n        };\n    }\n    return out;\n}\n// Duration calculation\nfunction calculateDuration(dep, arr) {\n    if (!dep || !arr) return null;\n    const [dh, dm] = dep.split(\":\").map(Number);\n    const [ah, am] = arr.split(\":\").map(Number);\n    let start = dh * 60 + dm;\n    let end = ah * 60 + am;\n    if (end < start) end += 24 * 60;\n    const dur = end - start;\n    return `${Math.floor(dur / 60)}h ${dur % 60}m`;\n}\n// Extract \"PUNE\" from \"Pune (PUNE)\"\nfunction extractStationCode(val) {\n    if (!val) return \"\";\n    const match = val.match(/\\(([A-Z0-9]+)\\)$/i);\n    if (match) return match[1].toUpperCase();\n    return val.trim().toUpperCase();\n}\nasync function GET(request) {\n    const { searchParams } = new URL(request.url);\n    const fromParam = extractStationCode(searchParams.get(\"from\") || \"\");\n    const toParam = extractStationCode(searchParams.get(\"to\") || \"\");\n    const dateParam = (searchParams.get(\"date\") || \"\").trim();\n    const classParam = (searchParams.get(\"class\") || \"\").trim().toUpperCase();\n    const timetablePath = \"D:/Projects/DTI Project/ExploreEase/datasets/Train_schedule_final.csv\";\n    const farePath = \"D:/Projects/DTI Project/ExploreEase/datasets/train_schedule.csv\";\n    if (!fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(timetablePath) || !fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(farePath)) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Data file(s) not found\",\n            trains: []\n        }, {\n            status: 500\n        });\n    }\n    try {\n        // --- Main train timetable ---\n        const raw = fs__WEBPACK_IMPORTED_MODULE_1___default().readFileSync(timetablePath, \"utf8\");\n        const records = (0,csv_parse_sync__WEBPACK_IMPORTED_MODULE_2__.parse)(raw, {\n            columns: true,\n            skip_empty_lines: true,\n            trim: true\n        });\n        const fareRaw = fs__WEBPACK_IMPORTED_MODULE_1___default().readFileSync(farePath, \"utf8\");\n        const fareRows = (0,csv_parse_sync__WEBPACK_IMPORTED_MODULE_2__.parse)(fareRaw, {\n            columns: true,\n            skip_empty_lines: true,\n            trim: true\n        });\n        // --- Day of week filter ---\n        let dayCol = null;\n        if (dateParam) {\n            const dt = new Date(dateParam);\n            const weekDay = [\n                \"Sun\",\n                \"Mon\",\n                \"Tue\",\n                \"Wed\",\n                \"Thu\",\n                \"Fri\",\n                \"Sat\"\n            ][dt.getDay()];\n            dayCol = DAY_COLS[weekDay];\n        }\n        // --- Filter trains: pass-through, correct day ---\n        const trains = records.filter((row)=>{\n            if (dayCol && row[dayCol] && row[dayCol] !== \"Y\") return false;\n            const stations = tryParseStationList(row.stationList);\n            const fromIdx = stations.findIndex((s)=>s.stationCode === fromParam);\n            const toIdx = stations.findIndex((s)=>s.stationCode === toParam);\n            return fromIdx >= 0 && toIdx > fromIdx;\n        }).map((row, idx)=>{\n            const trainNum = row.trainNumber?.toString() || row.trainNo?.toString() || \"\";\n            const trainName = row.trainName || row.train_name || \"\";\n            const stations = tryParseStationList(row.stationList);\n            const fromIdx = stations.findIndex((s)=>s.stationCode === fromParam);\n            const toIdx = stations.findIndex((s)=>s.stationCode === toParam);\n            const fromStop = stations[fromIdx];\n            const toStop = stations[toIdx];\n            // Classes for this segment\n            const toFareRow = fareRows.find((f)=>f.Train_No == trainNum && f.Station_Code === toParam);\n            const classes = CLASS_KEYS.filter((k)=>toFareRow && toFareRow[k] && !isNaN(Number(toFareRow[k])));\n            // Fares for each class\n            const fare = {};\n            for (const classKey of classes){\n                const segmentFare = getSegmentFare(fareRows, trainNum || \"\", fromParam || \"\", toParam || \"\", classKey);\n                if (segmentFare != null) fare[classKey] = segmentFare;\n            }\n            // Availability object for all classes\n            const availability = buildAvailability(classes);\n            return {\n                id: idx + 1,\n                number: trainNum,\n                name: trainName,\n                from: fromParam,\n                fromName: fromStop?.stationName || \"\",\n                to: toParam,\n                toName: toStop?.stationName || \"\",\n                departureTime: fromStop?.departureTime || \"\",\n                arrivalTime: toStop?.arrivalTime || \"\",\n                duration: calculateDuration(fromStop?.departureTime || \"\", toStop?.arrivalTime || \"\"),\n                classes,\n                fare,\n                availability\n            };\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            trains\n        });\n    } catch (error) {\n        console.error(\"Error reading train data:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Failed to load train data\",\n            trains: []\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9ib29raW5nL3RyYWluL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDO0FBQ3ZCO0FBQ21CO0FBRXZDLDRCQUE0QjtBQUM1QixNQUFNRyxXQUFXO0lBQ2ZDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7SUFDTEMsS0FBSztJQUNMQyxLQUFLO0lBQ0xDLEtBQUs7QUFDUDtBQUdBLDZCQUE2QjtBQUM3QixNQUFNQyxhQUFhO0lBQUM7SUFBTTtJQUFNO0lBQU07SUFBTTtJQUFNO0NBQUs7QUFFdkQsNERBQTREO0FBQzVELFNBQVNDLG9CQUFvQkMsR0FBVztJQUN0QyxJQUFJO1FBQ0YsT0FBT0MsS0FBS1osS0FBSyxDQUFDVyxJQUFJRSxPQUFPLENBQUMsTUFBTTtJQUN0QyxFQUFFLE9BQU07UUFDTixPQUFPLEVBQUU7SUFDWDtBQUNGO0FBRUEseURBQXlEO0FBQ3pELFNBQVNDLGVBQ1BDLFFBQWUsRUFDZkMsT0FBZSxFQUNmQyxJQUFZLEVBQ1pDLEVBQVUsRUFDVkMsUUFBZ0I7SUFFaEIsTUFBTUMsVUFBVUwsU0FBU00sTUFBTSxDQUFDLENBQUNDLElBQVdBLEVBQUVDLFFBQVEsSUFBSVA7SUFDMUQsTUFBTVEsVUFBVUosUUFBUUssSUFBSSxDQUFDLENBQUNILElBQVdBLEVBQUVJLFlBQVksS0FBS1Q7SUFDNUQsTUFBTVUsUUFBUVAsUUFBUUssSUFBSSxDQUFDLENBQUNILElBQVdBLEVBQUVJLFlBQVksS0FBS1I7SUFDMUQsSUFBSSxDQUFDTSxXQUFXLENBQUNHLE9BQU8sT0FBTztJQUMvQixNQUFNQyxPQUFPQyxPQUFPRixLQUFLLENBQUNSLFNBQVMsSUFBSVUsT0FBT0wsT0FBTyxDQUFDTCxTQUFTO0lBQy9ELGtEQUFrRDtJQUNsRCxPQUFPUyxRQUFRLElBQUlBLE9BQU9DLE9BQU9GLEtBQUssQ0FBQ1IsU0FBUztBQUNsRDtBQUVBLDJDQUEyQztBQUMzQyxTQUFTVyxrQkFDUEMsT0FBaUIsRUFDakJDLFFBQWdCLEVBQUU7SUFFbEIsTUFBTUMsTUFBMkIsQ0FBQztJQUNsQyxLQUFLLE1BQU1DLEtBQUtILFFBQVM7UUFDdkIsSUFBSUcsTUFBTSxRQUFRQSxNQUFNLE1BQU1ELEdBQUcsQ0FBQ0MsRUFBRSxHQUFHO1lBQUVDLFFBQVE7WUFBUUMsUUFBUUo7WUFBT0ssWUFBWTtRQUFPO2FBQ3RGLElBQUlILE1BQU0sUUFBUUEsTUFBTSxNQUFNRCxHQUFHLENBQUNDLEVBQUUsR0FBRztZQUFFQyxRQUFRO1lBQU9DLFFBQVFFLEtBQUtDLEtBQUssQ0FBQ1AsUUFBUTtZQUFJSyxZQUFZO1FBQVM7YUFDNUcsSUFBSUgsTUFBTSxNQUFNRCxHQUFHLENBQUNDLEVBQUUsR0FBRztZQUFFQyxRQUFRO1lBQU1DLFFBQVFFLEtBQUtDLEtBQUssQ0FBQ1AsUUFBUTtZQUFJSyxZQUFZO1FBQU07YUFDMUZKLEdBQUcsQ0FBQ0MsRUFBRSxHQUFHO1lBQUVDLFFBQVE7WUFBUUMsUUFBUUUsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxNQUFNLEtBQUtSO1lBQVFLLFlBQVk7UUFBUztJQUNsRztJQUNBLE9BQU9KO0FBQ1Q7QUFFQSx1QkFBdUI7QUFDdkIsU0FBU1Esa0JBQWtCQyxHQUFXLEVBQUVDLEdBQVc7SUFDakQsSUFBSSxDQUFDRCxPQUFPLENBQUNDLEtBQUssT0FBTztJQUN6QixNQUFNLENBQUNDLElBQUlDLEdBQUcsR0FBR0gsSUFBSUksS0FBSyxDQUFDLEtBQUtDLEdBQUcsQ0FBQ2xCO0lBQ3BDLE1BQU0sQ0FBQ21CLElBQUlDLEdBQUcsR0FBR04sSUFBSUcsS0FBSyxDQUFDLEtBQUtDLEdBQUcsQ0FBQ2xCO0lBQ3BDLElBQUlxQixRQUFRTixLQUFLLEtBQUtDO0lBQ3RCLElBQUlNLE1BQU1ILEtBQUssS0FBS0M7SUFDcEIsSUFBSUUsTUFBTUQsT0FBT0MsT0FBTyxLQUFLO0lBQzdCLE1BQU1DLE1BQU1ELE1BQU1EO0lBQ2xCLE9BQU8sQ0FBQyxFQUFFWixLQUFLQyxLQUFLLENBQUNhLE1BQU0sSUFBSSxFQUFFLEVBQUVBLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDaEQ7QUFFQSxvQ0FBb0M7QUFDcEMsU0FBU0MsbUJBQW1CQyxHQUFXO0lBQ3JDLElBQUksQ0FBQ0EsS0FBSyxPQUFPO0lBQ2pCLE1BQU1DLFFBQVFELElBQUlDLEtBQUssQ0FBQztJQUN4QixJQUFJQSxPQUFPLE9BQU9BLEtBQUssQ0FBQyxFQUFFLENBQUNDLFdBQVc7SUFDdEMsT0FBT0YsSUFBSUcsSUFBSSxHQUFHRCxXQUFXO0FBQy9CO0FBRU8sZUFBZUUsSUFBSUMsT0FBZ0I7SUFDeEMsTUFBTSxFQUFFQyxZQUFZLEVBQUUsR0FBRyxJQUFJQyxJQUFJRixRQUFRRyxHQUFHO0lBRTVDLE1BQU1DLFlBQVlWLG1CQUFtQk8sYUFBYUksR0FBRyxDQUFDLFdBQVc7SUFDakUsTUFBTUMsVUFBVVosbUJBQW1CTyxhQUFhSSxHQUFHLENBQUMsU0FBUztJQUM3RCxNQUFNRSxZQUFZLENBQUNOLGFBQWFJLEdBQUcsQ0FBQyxXQUFXLEVBQUMsRUFBR1AsSUFBSTtJQUN2RCxNQUFNVSxhQUFhLENBQUNQLGFBQWFJLEdBQUcsQ0FBQyxZQUFZLEVBQUMsRUFBR1AsSUFBSSxHQUFHRCxXQUFXO0lBRXZFLE1BQU1ZLGdCQUFnQjtJQUN0QixNQUFNQyxXQUFXO0lBRWpCLElBQUksQ0FBQ3RFLG9EQUFhLENBQUNxRSxrQkFBa0IsQ0FBQ3JFLG9EQUFhLENBQUNzRSxXQUFXO1FBQzdELE9BQU92RSxxREFBWUEsQ0FBQ3lFLElBQUksQ0FDdEI7WUFBRUMsU0FBUztZQUFPQyxPQUFPO1lBQTBCQyxRQUFRLEVBQUU7UUFBQyxHQUM5RDtZQUFFdkMsUUFBUTtRQUFJO0lBRWxCO0lBRUEsSUFBSTtRQUNGLCtCQUErQjtRQUMvQixNQUFNd0MsTUFBTTVFLHNEQUFlLENBQUNxRSxlQUFlO1FBQzNDLE1BQU1TLFVBQVU3RSxxREFBS0EsQ0FBQzJFLEtBQUs7WUFDekJHLFNBQVM7WUFDVEMsa0JBQWtCO1lBQ2xCdEIsTUFBTTtRQUNSO1FBRUEsTUFBTXVCLFVBQVVqRixzREFBZSxDQUFDc0UsVUFBVTtRQUMxQyxNQUFNdEQsV0FBV2YscURBQUtBLENBQUNnRixTQUFTO1lBQzlCRixTQUFTO1lBQ1RDLGtCQUFrQjtZQUNsQnRCLE1BQU07UUFDUjtRQUVBLDZCQUE2QjtRQUM3QixJQUFJd0IsU0FBMEM7UUFDOUMsSUFBSWYsV0FBVztZQUNiLE1BQU1nQixLQUFLLElBQUlDLEtBQUtqQjtZQUNwQixNQUFNa0IsVUFBVTtnQkFBQztnQkFBTztnQkFBTztnQkFBTztnQkFBTztnQkFBTztnQkFBTzthQUFNLENBQUNGLEdBQUdHLE1BQU0sR0FBRztZQUM5RUosU0FBU2hGLFFBQVEsQ0FBQ21GLFFBQVE7UUFDNUI7UUFFQSxtREFBbUQ7UUFDbkQsTUFBTVYsU0FBU0csUUFDWnhELE1BQU0sQ0FBQyxDQUFDaUU7WUFDUCxJQUFJTCxVQUFVSyxHQUFHLENBQUNMLE9BQU8sSUFBSUssR0FBRyxDQUFDTCxPQUFPLEtBQUssS0FBSyxPQUFPO1lBQ3pELE1BQU1NLFdBQVc3RSxvQkFBb0I0RSxJQUFJRSxXQUFXO1lBQ3BELE1BQU1DLFVBQVVGLFNBQVNHLFNBQVMsQ0FBQyxDQUFDQyxJQUFXQSxFQUFFQyxXQUFXLEtBQUs3QjtZQUNqRSxNQUFNOEIsUUFBUU4sU0FBU0csU0FBUyxDQUFDLENBQUNDLElBQVdBLEVBQUVDLFdBQVcsS0FBSzNCO1lBQy9ELE9BQU93QixXQUFXLEtBQUtJLFFBQVFKO1FBQ2pDLEdBQ0MxQyxHQUFHLENBQUMsQ0FBQ3VDLEtBQVVRO1lBQ2QsTUFBTUMsV0FBV1QsSUFBSVUsV0FBVyxFQUFFQyxjQUFjWCxJQUFJdEUsT0FBTyxFQUFFaUYsY0FBYztZQUMzRSxNQUFNQyxZQUFZWixJQUFJWSxTQUFTLElBQUlaLElBQUlhLFVBQVUsSUFBSTtZQUNyRCxNQUFNWixXQUFXN0Usb0JBQW9CNEUsSUFBSUUsV0FBVztZQUVwRCxNQUFNQyxVQUFVRixTQUFTRyxTQUFTLENBQUMsQ0FBQ0MsSUFBV0EsRUFBRUMsV0FBVyxLQUFLN0I7WUFDakUsTUFBTThCLFFBQVFOLFNBQVNHLFNBQVMsQ0FBQyxDQUFDQyxJQUFXQSxFQUFFQyxXQUFXLEtBQUszQjtZQUUvRCxNQUFNbUMsV0FBV2IsUUFBUSxDQUFDRSxRQUFRO1lBQ2xDLE1BQU1ZLFNBQVNkLFFBQVEsQ0FBQ00sTUFBTTtZQUU5QiwyQkFBMkI7WUFDM0IsTUFBTVMsWUFBWXZGLFNBQVNVLElBQUksQ0FBQyxDQUFDSCxJQUFXQSxFQUFFQyxRQUFRLElBQUl3RSxZQUFZekUsRUFBRUksWUFBWSxLQUFLdUM7WUFDekYsTUFBTWxDLFVBQVV0QixXQUFXWSxNQUFNLENBQUMsQ0FBQ2tGLElBQU0sYUFBY0QsU0FBUyxDQUFDQyxFQUFFLElBQUssQ0FBQ0MsTUFBTTNFLE9BQU95RSxTQUFTLENBQUNDLEVBQUU7WUFFbEcsdUJBQXVCO1lBQ3ZCLE1BQU1FLE9BQStCLENBQUM7WUFDdEMsS0FBSyxNQUFNdEYsWUFBWVksUUFBUztnQkFDOUIsTUFBTTJFLGNBQWM1RixlQUFlQyxVQUFVZ0YsWUFBWSxJQUFJaEMsYUFBYSxJQUFJRSxXQUFXLElBQUk5QztnQkFDN0YsSUFBSXVGLGVBQWUsTUFBTUQsSUFBSSxDQUFDdEYsU0FBUyxHQUFHdUY7WUFDNUM7WUFFQSxzQ0FBc0M7WUFDdEMsTUFBTUMsZUFBZTdFLGtCQUFrQkM7WUFFdkMsT0FBTztnQkFDTDZFLElBQUlkLE1BQU07Z0JBQ1YxRCxRQUFRMkQ7Z0JBQ1JjLE1BQU1YO2dCQUNOakYsTUFBTThDO2dCQUNOK0MsVUFBVVYsVUFBVVcsZUFBZTtnQkFDbkM3RixJQUFJK0M7Z0JBQ0orQyxRQUFRWCxRQUFRVSxlQUFlO2dCQUMvQkUsZUFBZWIsVUFBVWEsaUJBQWlCO2dCQUMxQ0MsYUFBYWIsUUFBUWEsZUFBZTtnQkFDcENDLFVBQVUxRSxrQkFBa0IyRCxVQUFVYSxpQkFBaUIsSUFBSVosUUFBUWEsZUFBZTtnQkFDbEZuRjtnQkFDQTBFO2dCQUNBRTtZQUNGO1FBQ0Y7UUFFRixPQUFPN0cscURBQVlBLENBQUN5RSxJQUFJLENBQUM7WUFBRUMsU0FBUztZQUFNRTtRQUFPO0lBQ25ELEVBQUUsT0FBT0QsT0FBTztRQUNkMkMsUUFBUTNDLEtBQUssQ0FBQyw2QkFBNkJBO1FBQzNDLE9BQU8zRSxxREFBWUEsQ0FBQ3lFLElBQUksQ0FDdEI7WUFBRUMsU0FBUztZQUFPQyxPQUFPO1lBQTZCQyxRQUFRLEVBQUU7UUFBQyxHQUNqRTtZQUFFdkMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leHBsb3JlZWFzZS8uL3NyYy9hcHAvYXBpL2Jvb2tpbmcvdHJhaW4vcm91dGUudHM/NWE2NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IGZzIGZyb20gXCJmc1wiO1xyXG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gXCJjc3YtcGFyc2Uvc3luY1wiO1xyXG5cclxuLy8gTWFwIHdlZWtkYXkgdG8gcnVuIGNvbHVtblxyXG5jb25zdCBEQVlfQ09MUyA9IHtcclxuICBTdW46IFwidHJhaW5SdW5zT25TdW5cIixcclxuICBNb246IFwidHJhaW5SdW5zT25Nb25cIixcclxuICBUdWU6IFwidHJhaW5SdW5zT25UdWVcIixcclxuICBXZWQ6IFwidHJhaW5SdW5zT25XZWRcIixcclxuICBUaHU6IFwidHJhaW5SdW5zT25UaHVcIixcclxuICBGcmk6IFwidHJhaW5SdW5zT25GcmlcIixcclxuICBTYXQ6IFwidHJhaW5SdW5zT25TYXRcIixcclxufSBhcyBjb25zdDtcclxudHlwZSBEYXlBYmJyID0ga2V5b2YgdHlwZW9mIERBWV9DT0xTO1xyXG5cclxuLy8gV2hhdCBjbGFzc2VzIGRvIHdlIHN1cHBvcnRcclxuY29uc3QgQ0xBU1NfS0VZUyA9IFtcIjFBXCIsIFwiMkFcIiwgXCIzQVwiLCBcIlNMXCIsIFwiQ0NcIiwgXCJFQ1wiXSBhcyBjb25zdDtcclxuXHJcbi8vIFBhcnNlIFB5dGhvbi9KU09OIHNpbmdsZSBxdW90ZSBhcnJheSB0byBKUyBhcnJheSBvZiBzdG9wc1xyXG5mdW5jdGlvbiB0cnlQYXJzZVN0YXRpb25MaXN0KHN0cjogc3RyaW5nKTogeyBzdGF0aW9uQ29kZTogc3RyaW5nLCBzdGF0aW9uTmFtZT86IHN0cmluZywgYXJyaXZhbFRpbWU/OiBzdHJpbmcsIGRlcGFydHVyZVRpbWU/OiBzdHJpbmcgfVtdIHtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyLnJlcGxhY2UoLycvZywgJ1wiJykpO1xyXG4gIH0gY2F0Y2gge1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxufVxyXG5cclxuLy8gR2V0IGN1bXVsYXRpdmUgZmFyZSBkaWZmZXJlbmNlIGZvciBhIHNlZ21lbnQgYW5kIGNsYXNzXHJcbmZ1bmN0aW9uIGdldFNlZ21lbnRGYXJlKFxyXG4gIGZhcmVSb3dzOiBhbnlbXSxcclxuICB0cmFpbk5vOiBzdHJpbmcsXHJcbiAgZnJvbTogc3RyaW5nLFxyXG4gIHRvOiBzdHJpbmcsXHJcbiAgY2xhc3NLZXk6IHN0cmluZ1xyXG4pOiBudW1iZXIgfCBudWxsIHtcclxuICBjb25zdCBzZWdSb3dzID0gZmFyZVJvd3MuZmlsdGVyKChmOiBhbnkpID0+IGYuVHJhaW5fTm8gPT0gdHJhaW5Obyk7XHJcbiAgY29uc3QgZnJvbVJvdyA9IHNlZ1Jvd3MuZmluZCgoZjogYW55KSA9PiBmLlN0YXRpb25fQ29kZSA9PT0gZnJvbSk7XHJcbiAgY29uc3QgdG9Sb3cgPSBzZWdSb3dzLmZpbmQoKGY6IGFueSkgPT4gZi5TdGF0aW9uX0NvZGUgPT09IHRvKTtcclxuICBpZiAoIWZyb21Sb3cgfHwgIXRvUm93KSByZXR1cm4gbnVsbDtcclxuICBjb25zdCBkaWZmID0gTnVtYmVyKHRvUm93W2NsYXNzS2V5XSkgLSBOdW1iZXIoZnJvbVJvd1tjbGFzc0tleV0pO1xyXG4gIC8vIElmIGJvYXJkaW5nIGF0IG9yaWdpbiwganVzdCB0YWtlIHRoZSB0b1JvdyBmYXJlXHJcbiAgcmV0dXJuIGRpZmYgPj0gMCA/IGRpZmYgOiBOdW1iZXIodG9Sb3dbY2xhc3NLZXldKTtcclxufVxyXG5cclxuLy8gQnVpbGQgYnVzaW5lc3MgbG9naWMvbW9ja2VkIGF2YWlsYWJpbGl0eVxyXG5mdW5jdGlvbiBidWlsZEF2YWlsYWJpbGl0eShcclxuICBjbGFzc2VzOiBzdHJpbmdbXSxcclxuICBzZWF0czogbnVtYmVyID0gMzJcclxuKTogUmVjb3JkPHN0cmluZywgeyBzdGF0dXM6IHN0cmluZzsgbnVtYmVyOiBudW1iZXI7IHByZWRpY3Rpb246IHN0cmluZyB9PiB7XHJcbiAgY29uc3Qgb3V0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge307XHJcbiAgZm9yIChjb25zdCBjIG9mIGNsYXNzZXMpIHtcclxuICAgIGlmIChjID09PSBcIjFBXCIgfHwgYyA9PT0gXCJFQ1wiKSBvdXRbY10gPSB7IHN0YXR1czogXCJBVkJMXCIsIG51bWJlcjogc2VhdHMsIHByZWRpY3Rpb246IFwiaGlnaFwiIH07XHJcbiAgICBlbHNlIGlmIChjID09PSBcIjJBXCIgfHwgYyA9PT0gXCJDQ1wiKSBvdXRbY10gPSB7IHN0YXR1czogXCJSQUNcIiwgbnVtYmVyOiBNYXRoLmZsb29yKHNlYXRzIC8gNCksIHByZWRpY3Rpb246IFwibWVkaXVtXCIgfTtcclxuICAgIGVsc2UgaWYgKGMgPT09IFwiM0FcIikgb3V0W2NdID0geyBzdGF0dXM6IFwiV0xcIiwgbnVtYmVyOiBNYXRoLmZsb29yKHNlYXRzIC8gMiksIHByZWRpY3Rpb246IFwibG93XCIgfTtcclxuICAgIGVsc2Ugb3V0W2NdID0geyBzdGF0dXM6IFwiQVZCTFwiLCBudW1iZXI6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHNlYXRzKSwgcHJlZGljdGlvbjogXCJtZWRpdW1cIiB9O1xyXG4gIH1cclxuICByZXR1cm4gb3V0O1xyXG59XHJcblxyXG4vLyBEdXJhdGlvbiBjYWxjdWxhdGlvblxyXG5mdW5jdGlvbiBjYWxjdWxhdGVEdXJhdGlvbihkZXA6IHN0cmluZywgYXJyOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcclxuICBpZiAoIWRlcCB8fCAhYXJyKSByZXR1cm4gbnVsbDtcclxuICBjb25zdCBbZGgsIGRtXSA9IGRlcC5zcGxpdChcIjpcIikubWFwKE51bWJlcik7XHJcbiAgY29uc3QgW2FoLCBhbV0gPSBhcnIuc3BsaXQoXCI6XCIpLm1hcChOdW1iZXIpO1xyXG4gIGxldCBzdGFydCA9IGRoICogNjAgKyBkbTtcclxuICBsZXQgZW5kID0gYWggKiA2MCArIGFtO1xyXG4gIGlmIChlbmQgPCBzdGFydCkgZW5kICs9IDI0ICogNjA7XHJcbiAgY29uc3QgZHVyID0gZW5kIC0gc3RhcnQ7XHJcbiAgcmV0dXJuIGAke01hdGguZmxvb3IoZHVyIC8gNjApfWggJHtkdXIgJSA2MH1tYDtcclxufVxyXG5cclxuLy8gRXh0cmFjdCBcIlBVTkVcIiBmcm9tIFwiUHVuZSAoUFVORSlcIlxyXG5mdW5jdGlvbiBleHRyYWN0U3RhdGlvbkNvZGUodmFsOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIGlmICghdmFsKSByZXR1cm4gXCJcIjtcclxuICBjb25zdCBtYXRjaCA9IHZhbC5tYXRjaCgvXFwoKFtBLVowLTldKylcXCkkL2kpO1xyXG4gIGlmIChtYXRjaCkgcmV0dXJuIG1hdGNoWzFdLnRvVXBwZXJDYXNlKCk7XHJcbiAgcmV0dXJuIHZhbC50cmltKCkudG9VcHBlckNhc2UoKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBSZXF1ZXN0KSB7XHJcbiAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xyXG5cclxuICBjb25zdCBmcm9tUGFyYW0gPSBleHRyYWN0U3RhdGlvbkNvZGUoc2VhcmNoUGFyYW1zLmdldChcImZyb21cIikgfHwgXCJcIik7XHJcbiAgY29uc3QgdG9QYXJhbSA9IGV4dHJhY3RTdGF0aW9uQ29kZShzZWFyY2hQYXJhbXMuZ2V0KFwidG9cIikgfHwgXCJcIik7XHJcbiAgY29uc3QgZGF0ZVBhcmFtID0gKHNlYXJjaFBhcmFtcy5nZXQoXCJkYXRlXCIpIHx8IFwiXCIpLnRyaW0oKTtcclxuICBjb25zdCBjbGFzc1BhcmFtID0gKHNlYXJjaFBhcmFtcy5nZXQoXCJjbGFzc1wiKSB8fCBcIlwiKS50cmltKCkudG9VcHBlckNhc2UoKTtcclxuXHJcbiAgY29uc3QgdGltZXRhYmxlUGF0aCA9IFwiRDovUHJvamVjdHMvRFRJIFByb2plY3QvRXhwbG9yZUVhc2UvZGF0YXNldHMvVHJhaW5fc2NoZWR1bGVfZmluYWwuY3N2XCI7XHJcbiAgY29uc3QgZmFyZVBhdGggPSBcIkQ6L1Byb2plY3RzL0RUSSBQcm9qZWN0L0V4cGxvcmVFYXNlL2RhdGFzZXRzL3RyYWluX3NjaGVkdWxlLmNzdlwiO1xyXG5cclxuICBpZiAoIWZzLmV4aXN0c1N5bmModGltZXRhYmxlUGF0aCkgfHwgIWZzLmV4aXN0c1N5bmMoZmFyZVBhdGgpKSB7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGEgZmlsZShzKSBub3QgZm91bmRcIiwgdHJhaW5zOiBbXSB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgLy8gLS0tIE1haW4gdHJhaW4gdGltZXRhYmxlIC0tLVxyXG4gICAgY29uc3QgcmF3ID0gZnMucmVhZEZpbGVTeW5jKHRpbWV0YWJsZVBhdGgsIFwidXRmOFwiKTtcclxuICAgIGNvbnN0IHJlY29yZHMgPSBwYXJzZShyYXcsIHtcclxuICAgICAgY29sdW1uczogdHJ1ZSxcclxuICAgICAgc2tpcF9lbXB0eV9saW5lczogdHJ1ZSxcclxuICAgICAgdHJpbTogdHJ1ZSxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGZhcmVSYXcgPSBmcy5yZWFkRmlsZVN5bmMoZmFyZVBhdGgsIFwidXRmOFwiKTtcclxuICAgIGNvbnN0IGZhcmVSb3dzID0gcGFyc2UoZmFyZVJhdywge1xyXG4gICAgICBjb2x1bW5zOiB0cnVlLFxyXG4gICAgICBza2lwX2VtcHR5X2xpbmVzOiB0cnVlLFxyXG4gICAgICB0cmltOiB0cnVlLFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gLS0tIERheSBvZiB3ZWVrIGZpbHRlciAtLS1cclxuICAgIGxldCBkYXlDb2w6IHR5cGVvZiBEQVlfQ09MU1tEYXlBYmJyXSB8IG51bGwgPSBudWxsO1xyXG4gICAgaWYgKGRhdGVQYXJhbSkge1xyXG4gICAgICBjb25zdCBkdCA9IG5ldyBEYXRlKGRhdGVQYXJhbSk7XHJcbiAgICAgIGNvbnN0IHdlZWtEYXkgPSBbXCJTdW5cIiwgXCJNb25cIiwgXCJUdWVcIiwgXCJXZWRcIiwgXCJUaHVcIiwgXCJGcmlcIiwgXCJTYXRcIl1bZHQuZ2V0RGF5KCldIGFzIERheUFiYnI7XHJcbiAgICAgIGRheUNvbCA9IERBWV9DT0xTW3dlZWtEYXldO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLSBGaWx0ZXIgdHJhaW5zOiBwYXNzLXRocm91Z2gsIGNvcnJlY3QgZGF5IC0tLVxyXG4gICAgY29uc3QgdHJhaW5zID0gcmVjb3Jkc1xyXG4gICAgICAuZmlsdGVyKChyb3c6IGFueSkgPT4ge1xyXG4gICAgICAgIGlmIChkYXlDb2wgJiYgcm93W2RheUNvbF0gJiYgcm93W2RheUNvbF0gIT09IFwiWVwiKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgY29uc3Qgc3RhdGlvbnMgPSB0cnlQYXJzZVN0YXRpb25MaXN0KHJvdy5zdGF0aW9uTGlzdCBhcyBzdHJpbmcpO1xyXG4gICAgICAgIGNvbnN0IGZyb21JZHggPSBzdGF0aW9ucy5maW5kSW5kZXgoKHM6IGFueSkgPT4gcy5zdGF0aW9uQ29kZSA9PT0gZnJvbVBhcmFtKTtcclxuICAgICAgICBjb25zdCB0b0lkeCA9IHN0YXRpb25zLmZpbmRJbmRleCgoczogYW55KSA9PiBzLnN0YXRpb25Db2RlID09PSB0b1BhcmFtKTtcclxuICAgICAgICByZXR1cm4gZnJvbUlkeCA+PSAwICYmIHRvSWR4ID4gZnJvbUlkeDtcclxuICAgICAgfSlcclxuICAgICAgLm1hcCgocm93OiBhbnksIGlkeDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdHJhaW5OdW0gPSByb3cudHJhaW5OdW1iZXI/LnRvU3RyaW5nKCkgfHwgcm93LnRyYWluTm8/LnRvU3RyaW5nKCkgfHwgXCJcIjtcclxuICAgICAgICBjb25zdCB0cmFpbk5hbWUgPSByb3cudHJhaW5OYW1lIHx8IHJvdy50cmFpbl9uYW1lIHx8IFwiXCI7XHJcbiAgICAgICAgY29uc3Qgc3RhdGlvbnMgPSB0cnlQYXJzZVN0YXRpb25MaXN0KHJvdy5zdGF0aW9uTGlzdCBhcyBzdHJpbmcpO1xyXG5cclxuICAgICAgICBjb25zdCBmcm9tSWR4ID0gc3RhdGlvbnMuZmluZEluZGV4KChzOiBhbnkpID0+IHMuc3RhdGlvbkNvZGUgPT09IGZyb21QYXJhbSk7XHJcbiAgICAgICAgY29uc3QgdG9JZHggPSBzdGF0aW9ucy5maW5kSW5kZXgoKHM6IGFueSkgPT4gcy5zdGF0aW9uQ29kZSA9PT0gdG9QYXJhbSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGZyb21TdG9wID0gc3RhdGlvbnNbZnJvbUlkeF07XHJcbiAgICAgICAgY29uc3QgdG9TdG9wID0gc3RhdGlvbnNbdG9JZHhdO1xyXG5cclxuICAgICAgICAvLyBDbGFzc2VzIGZvciB0aGlzIHNlZ21lbnRcclxuICAgICAgICBjb25zdCB0b0ZhcmVSb3cgPSBmYXJlUm93cy5maW5kKChmOiBhbnkpID0+IGYuVHJhaW5fTm8gPT0gdHJhaW5OdW0gJiYgZi5TdGF0aW9uX0NvZGUgPT09IHRvUGFyYW0pO1xyXG4gICAgICAgIGNvbnN0IGNsYXNzZXMgPSBDTEFTU19LRVlTLmZpbHRlcigoaykgPT4gKHRvRmFyZVJvdyAmJiB0b0ZhcmVSb3dba10pICYmICFpc05hTihOdW1iZXIodG9GYXJlUm93W2tdKSkpO1xyXG5cclxuICAgICAgICAvLyBGYXJlcyBmb3IgZWFjaCBjbGFzc1xyXG4gICAgICAgIGNvbnN0IGZhcmU6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcclxuICAgICAgICBmb3IgKGNvbnN0IGNsYXNzS2V5IG9mIGNsYXNzZXMpIHtcclxuICAgICAgICAgIGNvbnN0IHNlZ21lbnRGYXJlID0gZ2V0U2VnbWVudEZhcmUoZmFyZVJvd3MsIHRyYWluTnVtIHx8IFwiXCIsIGZyb21QYXJhbSB8fCBcIlwiLCB0b1BhcmFtIHx8IFwiXCIsIGNsYXNzS2V5KTtcclxuICAgICAgICAgIGlmIChzZWdtZW50RmFyZSAhPSBudWxsKSBmYXJlW2NsYXNzS2V5XSA9IHNlZ21lbnRGYXJlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQXZhaWxhYmlsaXR5IG9iamVjdCBmb3IgYWxsIGNsYXNzZXNcclxuICAgICAgICBjb25zdCBhdmFpbGFiaWxpdHkgPSBidWlsZEF2YWlsYWJpbGl0eShjbGFzc2VzKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGlkOiBpZHggKyAxLFxyXG4gICAgICAgICAgbnVtYmVyOiB0cmFpbk51bSxcclxuICAgICAgICAgIG5hbWU6IHRyYWluTmFtZSxcclxuICAgICAgICAgIGZyb206IGZyb21QYXJhbSxcclxuICAgICAgICAgIGZyb21OYW1lOiBmcm9tU3RvcD8uc3RhdGlvbk5hbWUgfHwgXCJcIixcclxuICAgICAgICAgIHRvOiB0b1BhcmFtLFxyXG4gICAgICAgICAgdG9OYW1lOiB0b1N0b3A/LnN0YXRpb25OYW1lIHx8IFwiXCIsXHJcbiAgICAgICAgICBkZXBhcnR1cmVUaW1lOiBmcm9tU3RvcD8uZGVwYXJ0dXJlVGltZSB8fCBcIlwiLFxyXG4gICAgICAgICAgYXJyaXZhbFRpbWU6IHRvU3RvcD8uYXJyaXZhbFRpbWUgfHwgXCJcIixcclxuICAgICAgICAgIGR1cmF0aW9uOiBjYWxjdWxhdGVEdXJhdGlvbihmcm9tU3RvcD8uZGVwYXJ0dXJlVGltZSB8fCBcIlwiLCB0b1N0b3A/LmFycml2YWxUaW1lIHx8IFwiXCIpLFxyXG4gICAgICAgICAgY2xhc3NlcyxcclxuICAgICAgICAgIGZhcmUsXHJcbiAgICAgICAgICBhdmFpbGFiaWxpdHksXHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgdHJhaW5zIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVhZGluZyB0cmFpbiBkYXRhOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkZhaWxlZCB0byBsb2FkIHRyYWluIGRhdGFcIiwgdHJhaW5zOiBbXSB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJmcyIsInBhcnNlIiwiREFZX0NPTFMiLCJTdW4iLCJNb24iLCJUdWUiLCJXZWQiLCJUaHUiLCJGcmkiLCJTYXQiLCJDTEFTU19LRVlTIiwidHJ5UGFyc2VTdGF0aW9uTGlzdCIsInN0ciIsIkpTT04iLCJyZXBsYWNlIiwiZ2V0U2VnbWVudEZhcmUiLCJmYXJlUm93cyIsInRyYWluTm8iLCJmcm9tIiwidG8iLCJjbGFzc0tleSIsInNlZ1Jvd3MiLCJmaWx0ZXIiLCJmIiwiVHJhaW5fTm8iLCJmcm9tUm93IiwiZmluZCIsIlN0YXRpb25fQ29kZSIsInRvUm93IiwiZGlmZiIsIk51bWJlciIsImJ1aWxkQXZhaWxhYmlsaXR5IiwiY2xhc3NlcyIsInNlYXRzIiwib3V0IiwiYyIsInN0YXR1cyIsIm51bWJlciIsInByZWRpY3Rpb24iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjYWxjdWxhdGVEdXJhdGlvbiIsImRlcCIsImFyciIsImRoIiwiZG0iLCJzcGxpdCIsIm1hcCIsImFoIiwiYW0iLCJzdGFydCIsImVuZCIsImR1ciIsImV4dHJhY3RTdGF0aW9uQ29kZSIsInZhbCIsIm1hdGNoIiwidG9VcHBlckNhc2UiLCJ0cmltIiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImZyb21QYXJhbSIsImdldCIsInRvUGFyYW0iLCJkYXRlUGFyYW0iLCJjbGFzc1BhcmFtIiwidGltZXRhYmxlUGF0aCIsImZhcmVQYXRoIiwiZXhpc3RzU3luYyIsImpzb24iLCJzdWNjZXNzIiwiZXJyb3IiLCJ0cmFpbnMiLCJyYXciLCJyZWFkRmlsZVN5bmMiLCJyZWNvcmRzIiwiY29sdW1ucyIsInNraXBfZW1wdHlfbGluZXMiLCJmYXJlUmF3IiwiZGF5Q29sIiwiZHQiLCJEYXRlIiwid2Vla0RheSIsImdldERheSIsInJvdyIsInN0YXRpb25zIiwic3RhdGlvbkxpc3QiLCJmcm9tSWR4IiwiZmluZEluZGV4IiwicyIsInN0YXRpb25Db2RlIiwidG9JZHgiLCJpZHgiLCJ0cmFpbk51bSIsInRyYWluTnVtYmVyIiwidG9TdHJpbmciLCJ0cmFpbk5hbWUiLCJ0cmFpbl9uYW1lIiwiZnJvbVN0b3AiLCJ0b1N0b3AiLCJ0b0ZhcmVSb3ciLCJrIiwiaXNOYU4iLCJmYXJlIiwic2VnbWVudEZhcmUiLCJhdmFpbGFiaWxpdHkiLCJpZCIsIm5hbWUiLCJmcm9tTmFtZSIsInN0YXRpb25OYW1lIiwidG9OYW1lIiwiZGVwYXJ0dXJlVGltZSIsImFycml2YWxUaW1lIiwiZHVyYXRpb24iLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/booking/train/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/csv-parse"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbooking%2Ftrain%2Froute&page=%2Fapi%2Fbooking%2Ftrain%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbooking%2Ftrain%2Froute.ts&appDir=D%3A%5CProjects%5CDTI%20Project%5CExploreEase%5Cfrontend%5Cexploreease%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CProjects%5CDTI%20Project%5CExploreEase%5Cfrontend%5Cexploreease&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=export&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();